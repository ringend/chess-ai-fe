<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Chess AI Interaction</title>
</head>
<body>
    <h1>Chess AI Interaction</h1>
    <textarea id="userInput" rows="4" cols="50" placeholder="Type your move or query here..."></textarea><br />
    <button id="sendBtn">Send</button>
    <h2>AI Response:</h2>
    <pre id="aiOutput" style="background-color:#f0f0f0; padding:10px; border:1px solid #ccc;"></pre>

    <script>
        const sendBtn = document.getElementById('sendBtn');
        const userInput = document.getElementById('userInput');
        const aiOutput = document.getElementById('aiOutput');

        sendBtn.addEventListener('click', async () => {
            const inputText = userInput.value.trim();
            if (!inputText) {
                alert('Please enter some input.');
                return;
            }

            aiOutput.textContent = 'Loading...';

            try {
                const response = await fetch('https://ai-eus2-djr.services.ai.azure.com/api/projects/chess-01/applications/chess-agent-01/protocols/openai/responses?api-version=2024-12-01-preview', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': 'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6InJ0c0ZULWItN0x1WTdEVlllU05LY0lKN1ZuYyIsImtpZCI6InJ0c0ZULWItN0x1WTdEVlllU05LY0lKN1ZuYyJ9.eyJhdWQiOiJodHRwczovL2FpLmF6dXJlLmNvbSIsImlzcyI6Imh0dHBzOi8vc3RzLndpbmRvd3MubmV0LzE2YjNjMDEzLWQzMDAtNDY4ZC1hYzY0LTdlZGEwODIwYjZkMy8iLCJpYXQiOjE3NjQ0NDQ2NTMsIm5iZiI6MTc2NDQ0NDY1MywiZXhwIjoxNzY0NDQ5MTAwLCJhY3IiOiIxIiwiYWlvIjoiQWJRQVMvOGFBQUFBMjZ0YmVsUG1XOXY4TlZScmNHcE1laUZmWHROTmdRNHpHN2U1encvRW83UE1qelp3WXZzK2N5K0RhZDRLVUFUK1FWT041NW1GWHVPcTFzMmpGRjNtUE90MzRXQzE5NDF6QUpnWis2Q1ZTaHpuNTRDdCtGV1pBNkxLbFd6VHlvd3NDaVlWbFVKc2RvZW93Z2dDYkNXK2szTm9qNGdCOFNjbHlzdkw5TzJObTN5QUlaWFdtKytpaFo3aTUvWFNZd1pGUldkaWx4OG56NkV2OFl0SDNzSU40M2V2bTVJQ24zcVgrNlU2Lyt1eGpCOD0iLCJhbHRzZWNpZCI6IjU6OjEwMDMyMDAxMUQ2OUI5RUUiLCJhbXIiOlsicnNhIiwibWZhIl0sImFwcGlkIjoiMDRiMDc3OTUtOGRkYi00NjFhLWJiZWUtMDJmOWUxYmY3YjQ2IiwiYXBwaWRhY3IiOiIwIiwiZGV2aWNlaWQiOiI4YWYwYjAxYy0wODM2LTQzYmMtYmIxMS1jMWZmZDcxNDdjNTkiLCJlbWFpbCI6ImRlcm9ucmluZ2VuQG1pY3Jvc29mdC5jb20iLCJmYW1pbHlfbmFtZSI6IlJpbmdlbiIsImdpdmVuX25hbWUiOiJEZXJvbiIsImdyb3VwcyI6WyJhYmVmZjM2YS1jMzg5LTQzMjctYTQ2MS1jYjE0ZDQxMDdlYWYiLCIwOTUzMWE3Mi0yYzNlLTRlMDYtYmUxZS0yNTk2YmQwOGRjZGQiLCJkMzRjNGViZS00OTg0LTQ5MDMtYTY0ZC04YzIwMjgzZDUxNmIiLCJlMzA5NmRmNy1iNjVjLTRlMzItYWIxYS03YTM1ZGM2ODRmMGEiXSwiaWRwIjoiaHR0cHM6Ly9zdHMud2luZG93cy5uZXQvNzJmOTg4YmYtODZmMS00MWFmLTkxYWItMmQ3Y2QwMTFkYjQ3LyIsImlkdHlwIjoidXNlciIsImlwYWRkciI6IjI2MDA6MTcwMjo4MTcwOmYwMDA6NDE3YTo2OWI6YmZhZDoyZGE3IiwibmFtZSI6IkRlcm9uIFJpbmdlbiIsIm9pZCI6IjQ2ZWM5NmJhLWRiZjktNDQ4YS1hNTVkLTNmMThhYzExMzhhYiIsInB1aWQiOiIxMDAzMjAwM0RDMEZENjgxIiwicHdkX3VybCI6Imh0dHBzOi8vZ28ubWljcm9zb2Z0LmNvbS9md2xpbmsvP2xpbmtpZD0yMjI0MTk4IiwicmgiOiIxLkFVWUFFOEN6RmdEVGpVYXNaSDdhQ0NDMjAxOXZwaGpmMnhkTW5kY1dOSEVxbkw3eEFJNUdBQS4iLCJzY3AiOiJ1c2VyX2ltcGVyc29uYXRpb24iLCJzaWQiOiIwMDlhZTg1OS1hMDY3LTA2ZTctOTY2NS0zNjJkMjJkODBkY2QiLCJzdWIiOiJmTmdNWmtuT0pwM3FyaXk3Q0RUTFNocVRaLVhxeGxtTHF6cndIYTJaM0tBIiwidGlkIjoiMTZiM2MwMTMtZDMwMC00NjhkLWFjNjQtN2VkYTA4MjBiNmQzIiwidW5pcXVlX25hbWUiOiJkZXJvbnJpbmdlbkBtaWNyb3NvZnQuY29tIiwidXRpIjoibXdHWEpMNlZhRXlFbkRleGQ3cTlBQSIsInZlciI6IjEuMCIsInhtc19hY3RfZmN0IjoiMyA1IiwieG1zX2Z0ZCI6Ik5CZ3BGcnJ2cjJxU29PRHl1M0dodjBkcDNCdTlhVnFNU21lUkd0NFFjUGdCZFhOemIzVjBhQzFrYzIxeiIsInhtc19pZHJlbCI6IjEgMjQiLCJ4bXNfc3ViX2ZjdCI6IjMgMTYifQ.N6JnmaS7vv3XthvxKVijaomboPDGPCa63j3mNE-Jpgce19JQ45KQCP41IGO6vOh1ItbK_TD_YSSyGNAl3c22RtG2BBB7VpS8ZVbG2dCIVTsYflETz-0GW0h7a9Jx39lrJd-huQObLA279JjO1B6EmqdFRZQjmiuQLIjL7YcixPtMTwSJVLP-C9sXLllOPC2QWEfFXH5D2PLMmp4PCZvJajcEnynhur_TW4aJO2WqExYk26QBr8poltFm-S-chnBHkHrfiTQXbHE--u2agakiG9Tv2qaoYY4HsoEdoz7aoRakId-WDhEKkrBG_hj-dbYwWN5LDO7aZ0hBz4Mc0hBPBw'
                    },
                    body: JSON.stringify({
                        messages: [
                            { role: 'user', content: inputText }
                        ]
                    })
                });

                if (!response.ok) {
                    throw new Error(`Server error: ${response.status}`);
                }

                const data = await response.json();
                // Adjust this depending on the actual response structure
                const aiMessage = data.choices && data.choices[0] && data.choices[0].message && data.choices[0].message.content;
                aiOutput.textContent = aiMessage || 'No response from AI.';
            } catch (error) {
                aiOutput.textContent = `Error: ${error.message}`;
            }
        });
    </script>
</body>
</html>

